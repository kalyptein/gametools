<html>
  <head>
    <title>Nomicon</title>
  </head>
  <body>
    <h1>Nomicon</h1>

    <form>
      <label>Culture</label>
      <select name="culture" id="culture">
        <option value="hellenica">Hellenica</option>
      </select>
      <label>Type</label>
      <select name="nametype" id="nametype">
        <option value="person">Person (random)</option>
        <option value="male">Person (male)</option>
        <option value="female">Person (female)</option>
        <option value="city">City</option>
        <option value="terrain">Country / Terrain</option>
      </select>
      <button onclick="generateName(event)">Generate</button>
    </form>

    <p id="resultDisplay">Default result display text</p>

    <script type="module" src="../scripts/seedableRandom.js" defer> </script>
    <script type="module" src="../scripts/utils.js" defer> </script>
    <script type="module" src="./hellenica.js" defer> </script>
    <script type="module" defer>

      import utils from "../scripts/utils.js"
      import { hellenica } from "./hellenica.js"        // TODO auto-gen culture dropdown when loading files
      
      const culture = {}
      culture['hellenica'] = hellenica

      // get elements
      var result = document.getElementById("resultDisplay")
      var cultureSelect = document.getElementById("culture")
      var typeSelect = document.getElementById("nametype")

      function generateName(event) {
        event.preventDefault()
        console.log('thing')
        document.getElementById("resultDisplay").textContent = "Content added by external JavaScript!"

        switch (cultureSelect.value) {
          case "hellenica":
            switch (typeSelect.value) {
              case "person":
                result.textContent += '<br>' + culture['hellenica'].person()
                break
              case "male":
                result.textContent += '<br>' + culture['hellenica'].person('male')
                break
              case "female":
                result.textContent += '<br>' + culture['hellenica'].person('female')
                break
              case "city":
                result.textContent += '<br>' + culture['hellenica'].city('mixed')
                break
              case "terrain":
                result.textContent += '<br>' + culture['hellenica'].terrain()
                break
            }
            break
        }
      }
    </script>

  </body>
</html>
